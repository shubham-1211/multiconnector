<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.2.1 (Python 3.8.3 on win32)" generated="20200831 08:38:38.805" rpa="false">
<suite id="s1" name="Connector Tests" source="C:\Users\artor\WebstormProjects\multi-connector\robottests\connectors\enerkey\connector_tests.robot">
<test id="s1-t1" name="fetch, 200">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200831 08:38:39.048" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}}</msg>
<status status="PASS" starttime="20200831 08:38:39.047" endtime="20200831 08:38:39.048"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200831 08:38:39.048" level="INFO">${now} = 2020-08-31T05:38:39+00:00</msg>
<status status="PASS" starttime="20200831 08:38:39.048" endtime="20200831 08:38:39.048"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:39.048" endtime="20200831 08:38:39.048"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:39.048" endtime="20200831 08:38:39.048"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200831 08:38:39.049" level="INFO">${json_string} = {"productCode": "polku-connector", "parameters": {"ids": ["15794", "35378", "45410"], "startTime": "2014-04-05T06:28:30.000Z", "endTime": "2014-04-06T06:28:30.000Z"}, "timestamp": "2020-08-31T05:38:39...</msg>
<status status="PASS" starttime="20200831 08:38:39.048" endtime="20200831 08:38:39.049"></status>
</kw>
<msg timestamp="20200831 08:38:39.049" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}, 'timestamp': '2020-08-31T05:38:39...</msg>
<status status="PASS" starttime="20200831 08:38:39.047" endtime="20200831 08:38:39.049"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200831 08:38:39.051" level="INFO">${signature} = lRuFbkXs+NjOHbAtiM+bq+3vl5kjFpp2b2on0efS62s=</msg>
<status status="PASS" starttime="20200831 08:38:39.050" endtime="20200831 08:38:39.051"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:39.051" endtime="20200831 08:38:39.051"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:39.051" endtime="20200831 08:38:40.000"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20200831 08:38:40.001" level="INFO">
{
    "type": "object",
    "properties": {
        "@context": {
            "type": "string",
            "default": "https://standards.oftrust.net/v2/Context/DataProductOutput/Sensor/"
        },
        "data": {
            "type": "object",
            "properties": {
                "sensors": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "measurements": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "@type": {
                                            "type": "string"
                                        },
                                        "value": {
                                            "type": "number"
                                        },
                                        "timestamp": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "@type",
                                        "timestamp",
                                        "value"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "measurements"
                        ]
                    },
                    "default": [
                        {
                            "measurements": [
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 180,
                                    "timestamp": "2014-04-05T07:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 184,
                                    "timestamp": "2014-04-05T08:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 181,
                                    "timestamp": "2014-04-05T09:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 189,
                                    "timestamp": "2014-04-05T10:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 209,
                                    "timestamp": "2014-04-05T11:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 233,
                                    "timestamp": "2014-04-05T12:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 216,
                                    "timestamp": "2014-04-05T13:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 201,
                                    "timestamp": "2014-04-05T14:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 212,
                                    "timestamp": "2014-04-05T15:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 213,
                                    "timestamp": "2014-04-05T16:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 215,
                                    "timestamp": "2014-04-05T17:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 218,
                                    "timestamp": "2014-04-05T18:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 220,
                                    "timestamp": "2014-04-05T19:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 218,
                                    "timestamp": "2014-04-05T20:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 207,
                                    "timestamp": "2014-04-05T21:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 202,
                                    "timestamp": "2014-04-05T22:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 189,
                                    "timestamp": "2014-04-05T23:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 195,
                                    "timestamp": "2014-04-06T00:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 189,
                                    "timestamp": "2014-04-06T01:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 187,
                                    "timestamp": "2014-04-06T02:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 189,
                                    "timestamp": "2014-04-06T03:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 182,
                                    "timestamp": "2014-04-06T04:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 184,
                                    "timestamp": "2014-04-06T05:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 186,
                                    "timestamp": "2014-04-06T06:00:00.000Z"
                                }
                            ]
                        },
                        {
                            "measurements": [
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T07:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T08:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T09:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T10:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T11:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T12:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T13:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T14:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T15:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T16:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T17:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T18:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T19:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T20:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T21:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T22:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-05T23:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T00:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T01:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T02:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T03:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T04:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T05:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 11.41552,
                                    "timestamp": "2014-04-06T06:00:00.000Z"
                                }
                            ]
                        },
                        {
                            "measurements": [
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T07:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T08:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T09:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T10:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T11:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T12:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T13:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T14:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T15:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T16:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T17:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T18:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T19:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T20:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T21:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T22:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-05T23:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T00:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T01:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T02:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T03:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T04:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T05:00:00.000Z"
                                },
                                {
                                    "@type": "MeasureEnergyConsumptionKilowattHour",
                                    "value": 0.125,
                                    "timestamp": "2014-04-06T06:00:00.000Z"
                                }
                            ]
                        }
                    ]
                }
            },
            "required": [
                "sensors"
            ]
        },
        "signature": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "default": "RsaSignature2018"
                },
                "created": {
                    "type": "string",
                    "default": "2020-08-31T05:38:39+00:00"
                },
                "creator": {
                    "type": "string",
                    "default": "http://connector.oftrust.dev/translator/v1/public.key"
                },
                "signatureValue": {
                    "type": "string",
                    "default": "aDTqRiL3hJn+D+6gF67wl8RG96Pj1Ba25inAwtS3a+ESvc/se/bkwhKqgyEhYzFuUpznohkMofgpdJufAinkzKV0Qo7nG67OAQ1yxU2z2AhYynmGE7Ej/yaNE/Zva//M3Vrx2NtKw5TZo4ekh3N+vpGvnAUmAD7xG6rb7bIO73KoA9jQ2WOuwylYwwlT2jXSQ5GyPCpa8feWph2JuXb93MHiPVaVbDXr33DUepBkj3wGeH8DVzWMZvsL3ABXZJEZRv4rwQf8C+Bkai2IupRv9sEW0z1sXEKmvk63dfxySbNKG/ZUU4r54xzcV/zwy02xz1YPf8U7NRGKQnF8KyjLOtyLxaymUv+iZtFC4MYpDZc0VBhJGCZc30iSInAFYpyhL+0IT6wKSukeD0+b826nSeR+COK/VV7bUdyCTHsU2RIJXlWbd985hexV6xhjr2PC6JWsQJcxEq7DQ2cvDyFw3Hb187rtdQcDsT3/x5vO9ZLVurbskLIHv4yMUAhUAbZEe5mxyM4NsZNmyL+VtaO652IRs2Jlau6+IK3vAiMLxU/PPUJASxDXgXxdIAFWozPJp0Da+AsOEAK4nRNXi7ohLXPgfczStQDdUX5vNjRtVYfdyw46tFUE5z7sZXuYcPk53TwizpGfxcD10N0H0wtPw6bTt+03ema8WSPNF2yVIXE="
                }
            },
            "required": [
                "created",
                "creator",
                "signatureValue",
                "type"
            ]
        }
    },
    "required": [
        "@context",
        "data",
        "signature"
    ]
}</msg>
<status status="PASS" starttime="20200831 08:38:40.000" endtime="20200831 08:38:40.024"></status>
</kw>
<status status="PASS" starttime="20200831 08:38:39.050" endtime="20200831 08:38:40.024"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>200</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.032" endtime="20200831 08:38:40.032"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body @context</arg>
<arg>https://standards.oftrust.net/v2/Context/DataProductOutput/Sensor/</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.033" endtime="20200831 08:38:40.033"></status>
</kw>
<kw name="Object" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON object.*</doc>
<arguments>
<arg>response body data</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.033" endtime="20200831 08:38:40.036"></status>
</kw>
<kw name="Array" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON array.*</doc>
<arguments>
<arg>response body data sensors</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.036" endtime="20200831 08:38:40.038"></status>
</kw>
<kw name="Array" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON array.*</doc>
<arguments>
<arg>response body data sensors 0 measurements</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.039" endtime="20200831 08:38:40.040"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body data sensors 0 measurements 0 @type</arg>
<arg>MeasureEnergyConsumptionKilowattHour</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.040" endtime="20200831 08:38:40.040"></status>
</kw>
<tags>
<tag>bug-0001</tag>
</tags>
<status status="PASS" starttime="20200831 08:38:39.047" endtime="20200831 08:38:40.041" critical="yes"></status>
</test>
<test id="s1-t2" name="fetch, 422, Missing data for timestamp required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200831 08:38:40.043" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}}</msg>
<status status="PASS" starttime="20200831 08:38:40.043" endtime="20200831 08:38:40.043"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200831 08:38:40.044" level="INFO">${now} = 2020-08-31T05:38:40+00:00</msg>
<status status="PASS" starttime="20200831 08:38:40.043" endtime="20200831 08:38:40.044"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.044" endtime="20200831 08:38:40.044"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.044" endtime="20200831 08:38:40.044"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200831 08:38:40.044" level="INFO">${json_string} = {"productCode": "polku-connector", "parameters": {"ids": ["15794", "35378", "45410"], "startTime": "2014-04-05T06:28:30.000Z", "endTime": "2014-04-06T06:28:30.000Z"}, "timestamp": "2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.044" endtime="20200831 08:38:40.044"></status>
</kw>
<msg timestamp="20200831 08:38:40.045" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}, 'timestamp': '2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.043" endtime="20200831 08:38:40.045"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.045" endtime="20200831 08:38:40.045"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200831 08:38:40.046" level="INFO">${signature} = uBE8RDYZy0aXHeUhud+EIJE0tXr1SrlYP4ia3y31AGs=</msg>
<status status="PASS" starttime="20200831 08:38:40.046" endtime="20200831 08:38:40.046"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.046" endtime="20200831 08:38:40.046"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.046" endtime="20200831 08:38:40.079"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20200831 08:38:40.080" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "timestamp": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "timestamp"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20200831 08:38:40.079" endtime="20200831 08:38:40.081"></status>
</kw>
<status status="PASS" starttime="20200831 08:38:40.045" endtime="20200831 08:38:40.081"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.082" endtime="20200831 08:38:40.082"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.082" endtime="20200831 08:38:40.083"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message timestamp 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.083" endtime="20200831 08:38:40.083"></status>
</kw>
<tags>
<tag>bug-0001</tag>
</tags>
<status status="PASS" starttime="20200831 08:38:40.042" endtime="20200831 08:38:40.084" critical="yes"></status>
</test>
<test id="s1-t3" name="fetch, 422, Missing data for parameters required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200831 08:38:40.086" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}}</msg>
<status status="PASS" starttime="20200831 08:38:40.085" endtime="20200831 08:38:40.086"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200831 08:38:40.086" level="INFO">${now} = 2020-08-31T05:38:40+00:00</msg>
<status status="PASS" starttime="20200831 08:38:40.086" endtime="20200831 08:38:40.086"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.086" endtime="20200831 08:38:40.086"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.086" endtime="20200831 08:38:40.086"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200831 08:38:40.087" level="INFO">${json_string} = {"productCode": "polku-connector", "parameters": {"ids": ["15794", "35378", "45410"], "startTime": "2014-04-05T06:28:30.000Z", "endTime": "2014-04-06T06:28:30.000Z"}, "timestamp": "2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.087" endtime="20200831 08:38:40.087"></status>
</kw>
<msg timestamp="20200831 08:38:40.087" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}, 'timestamp': '2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.085" endtime="20200831 08:38:40.087"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body}</arg>
<arg>parameters</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.087" endtime="20200831 08:38:40.087"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200831 08:38:40.088" level="INFO">${signature} = rP/zA2OXfeeGb5AqV7BTopYg5/wY4tmajy429t+y8Xk=</msg>
<status status="PASS" starttime="20200831 08:38:40.088" endtime="20200831 08:38:40.088"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.088" endtime="20200831 08:38:40.089"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.089" endtime="20200831 08:38:40.119"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20200831 08:38:40.119" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "parameters": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "parameters"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20200831 08:38:40.119" endtime="20200831 08:38:40.121"></status>
</kw>
<status status="PASS" starttime="20200831 08:38:40.088" endtime="20200831 08:38:40.121"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.121" endtime="20200831 08:38:40.122"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.123" endtime="20200831 08:38:40.123"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.125" endtime="20200831 08:38:40.125"></status>
</kw>
<tags>
<tag>bug-0002</tag>
</tags>
<status status="PASS" starttime="20200831 08:38:40.085" endtime="20200831 08:38:40.126" critical="yes"></status>
</test>
<test id="s1-t4" name="fetch, 422, Missing data for ids required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200831 08:38:40.129" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}}</msg>
<status status="PASS" starttime="20200831 08:38:40.128" endtime="20200831 08:38:40.129"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200831 08:38:40.129" level="INFO">${now} = 2020-08-31T05:38:40+00:00</msg>
<status status="PASS" starttime="20200831 08:38:40.129" endtime="20200831 08:38:40.129"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.129" endtime="20200831 08:38:40.129"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.129" endtime="20200831 08:38:40.129"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200831 08:38:40.130" level="INFO">${json_string} = {"productCode": "polku-connector", "parameters": {"ids": ["15794", "35378", "45410"], "startTime": "2014-04-05T06:28:30.000Z", "endTime": "2014-04-06T06:28:30.000Z"}, "timestamp": "2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.129" endtime="20200831 08:38:40.130"></status>
</kw>
<msg timestamp="20200831 08:38:40.130" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}, 'timestamp': '2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.127" endtime="20200831 08:38:40.130"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>ids</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.130" endtime="20200831 08:38:40.131"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200831 08:38:40.131" level="INFO">${signature} = jii0BdQ1iaFs2VzkXK/4fmmGgkDTUy0MOP/toHGWaRI=</msg>
<status status="PASS" starttime="20200831 08:38:40.131" endtime="20200831 08:38:40.131"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.132" endtime="20200831 08:38:40.132"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.132" endtime="20200831 08:38:40.167"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20200831 08:38:40.167" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "parameters.ids": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "parameters.ids"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20200831 08:38:40.167" endtime="20200831 08:38:40.169"></status>
</kw>
<status status="PASS" starttime="20200831 08:38:40.131" endtime="20200831 08:38:40.169"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.170" endtime="20200831 08:38:40.170"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.170" endtime="20200831 08:38:40.171"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.ids 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.171" endtime="20200831 08:38:40.171"></status>
</kw>
<tags>
<tag>bug-0003</tag>
</tags>
<status status="PASS" starttime="20200831 08:38:40.127" endtime="20200831 08:38:40.172" critical="yes"></status>
</test>
<test id="s1-t5" name="fetch, 200, Empty ids">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200831 08:38:40.174" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}}</msg>
<status status="PASS" starttime="20200831 08:38:40.174" endtime="20200831 08:38:40.174"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200831 08:38:40.174" level="INFO">${now} = 2020-08-31T05:38:40+00:00</msg>
<status status="PASS" starttime="20200831 08:38:40.174" endtime="20200831 08:38:40.174"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.174" endtime="20200831 08:38:40.174"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.175" endtime="20200831 08:38:40.175"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200831 08:38:40.175" level="INFO">${json_string} = {"productCode": "polku-connector", "parameters": {"ids": ["15794", "35378", "45410"], "startTime": "2014-04-05T06:28:30.000Z", "endTime": "2014-04-06T06:28:30.000Z"}, "timestamp": "2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.175" endtime="20200831 08:38:40.175"></status>
</kw>
<msg timestamp="20200831 08:38:40.175" level="INFO">${body} = {'productCode': 'polku-connector', 'parameters': {'ids': ['15794', '35378', '45410'], 'startTime': '2014-04-05T06:28:30.000Z', 'endTime': '2014-04-06T06:28:30.000Z'}, 'timestamp': '2020-08-31T05:38:40...</msg>
<status status="PASS" starttime="20200831 08:38:40.173" endtime="20200831 08:38:40.175"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>ids=@{EMPTY}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.176" endtime="20200831 08:38:40.176"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200831 08:38:40.177" level="INFO">${signature} = znUyYzVHD+MylZuPjWkn7bFhbjFWQ7c7q+56fefXf8U=</msg>
<status status="PASS" starttime="20200831 08:38:40.176" endtime="20200831 08:38:40.177"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.177" endtime="20200831 08:38:40.184"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.185" endtime="20200831 08:38:40.224"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20200831 08:38:40.225" level="INFO">
{
    "type": "object",
    "properties": {
        "@context": {
            "type": "string",
            "default": "https://standards.oftrust.net/v2/Context/DataProductOutput/Sensor/"
        },
        "data": {
            "type": "object",
            "properties": {
                "sensors": {
                    "type": "array",
                    "default": []
                }
            },
            "required": [
                "sensors"
            ]
        },
        "signature": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "default": "RsaSignature2018"
                },
                "created": {
                    "type": "string",
                    "default": "2020-08-31T05:38:39+00:00"
                },
                "creator": {
                    "type": "string",
                    "default": "http://connector.oftrust.dev/translator/v1/public.key"
                },
                "signatureValue": {
                    "type": "string",
                    "default": "cucZYoJOPPiSnjnBLyh7Llwb7l54/SPDJOHcV6E+yg+iu423BwYSYyQJkDs0ovLazIybwW0ASaZWoLdFtL6Topgg0g/2N4ZH5HoNg2aUtzhUlv+8AJM0dQoFu0m65DPs5b4xG4tinq7C9Vcr/ssyJ7G4mjdJU2hPJhjP9TK4VnoYK4ufgfwjK6zWsEZCkpKzqwT0KkzrqPAu/eVFzH2NHoCxyW6BT5rhfMuFcerLuCc1HjUMzqSQguUcj93WRqI4+vapcNZz7tcDwmYpGoBA3E2cgm8AcT+3VtjvX4Hvh3koNbtLZBwBeJbw4Zengs6rgcbm7i9hbXzE2Vq2HaPrBr4+Du6VSrxMaOtfCzz7tVYCiN5UlCT3fkL9YWQ1hezFgts7eJprnZWMYKbhtm9zjv/GuPzI8+H8dX+x+dt/8wJWsbbzdzl8AvMy13evSRp8basb0GNJFN2cTzWyOzyFU0b+WfZsv4WO1T6Rvzh3nfn+WmpQUNK/SYzwojpAybgpiJ5JdJ158aj9YpmcjKaX8QrZmjZGWVnBQyOyOCAFG0acUCeJTbu/bClyeiZj36XsTpLHU/pOgKgNsaSvyQB7qJ7IMfP+NKesdQCr708ZLR7XH5T4Vr0j5QeIHxBSd8lcWxhq3ZV7OhoEErL/Y/VZbdPPFdysJ3v2msuJKnI+Hbs="
                }
            },
            "required": [
                "created",
                "creator",
                "signatureValue",
                "type"
            ]
        }
    },
    "required": [
        "@context",
        "data",
        "signature"
    ]
}</msg>
<status status="PASS" starttime="20200831 08:38:40.224" endtime="20200831 08:38:40.227"></status>
</kw>
<status status="PASS" starttime="20200831 08:38:40.176" endtime="20200831 08:38:40.227"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>200</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.228" endtime="20200831 08:38:40.228"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body @context</arg>
<arg>https://standards.oftrust.net/v2/Context/DataProductOutput/Sensor/</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.229" endtime="20200831 08:38:40.229"></status>
</kw>
<kw name="Array" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON array.*</doc>
<arguments>
<arg>response body data sensors</arg>
<arg>maxItems=0</arg>
</arguments>
<status status="PASS" starttime="20200831 08:38:40.229" endtime="20200831 08:38:40.230"></status>
</kw>
<tags>
<tag>bug-0004</tag>
</tags>
<status status="PASS" starttime="20200831 08:38:40.173" endtime="20200831 08:38:40.230" critical="yes"></status>
</test>
<doc>EnerKey Data Api Tests</doc>
<status status="PASS" starttime="20200831 08:38:38.806" endtime="20200831 08:38:40.232"></status>
</suite>
<statistics>
<total>
<stat pass="5" fail="0">Critical Tests</stat>
<stat pass="5" fail="0">All Tests</stat>
</total>
<tag>
<stat pass="2" fail="0">bug-0001</stat>
<stat pass="1" fail="0">bug-0002</stat>
<stat pass="1" fail="0">bug-0003</stat>
<stat pass="1" fail="0">bug-0004</stat>
</tag>
<suite>
<stat pass="5" fail="0" id="s1" name="Connector Tests">Connector Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
