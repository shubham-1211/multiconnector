<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.2.1 (Python 3.8.3 on win32)" generated="20201214 14:30:42.942" rpa="false">
<suite id="s1" name="Connector Tests" source="C:\Users\artor\WebstormProjects\multi-connector\robottests\connectors\vtt-ids\connector_tests.robot">
<test id="s1-t1" name="fetch, 200, history">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20201214 14:30:43.189" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:30:43.189" endtime="20201214 14:30:43.190"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20201214 14:30:43.190" level="INFO">${now} = 2020-12-14T12:30:43+00:00</msg>
<status status="PASS" starttime="20201214 14:30:43.190" endtime="20201214 14:30:43.190"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:30:43.190" endtime="20201214 14:30:43.190"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:30:43.190" endtime="20201214 14:30:43.190"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20201214 14:30:43.191" level="INFO">${json_string} = {"productCode": "vtt-ids", "parameters": {"targetObject": {"lowLeftCornerCoordinateAxis1": "60.170059", "lowLeftCornerCoordinateAxis2": "24.907368", "upperRightCornerCoordinateAxis1": "60.17726", "upp...</msg>
<status status="PASS" starttime="20201214 14:30:43.191" endtime="20201214 14:30:43.191"></status>
</kw>
<msg timestamp="20201214 14:30:43.191" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:30:43.189" endtime="20201214 14:30:43.191"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20201214 14:30:43.192" level="INFO">${signature} = ikdT1OYuivb7Vj98McDYNXFpqAt2n1EjqbL/l0iPCpA=</msg>
<status status="PASS" starttime="20201214 14:30:43.192" endtime="20201214 14:30:43.192"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:30:43.192" endtime="20201214 14:30:43.192"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:30:43.192" endtime="20201214 14:31:01.188"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20201214 14:31:01.188" level="INFO">
{
    "type": "object",
    "properties": {
        "@context": {
            "type": "string",
            "default": "https://standards.oftrust.net/v2/Context/DataProductOutput/Process/Measure/Traffic/"
        },
        "data": {
            "type": "object",
            "properties": {
                "traffic": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "vehicle": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "@type": {
                                            "type": "string"
                                        },
                                        "measurement": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "@type": {
                                                        "type": "string"
                                                    },
                                                    "value": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "required": [
                                                    "@type",
                                                    "value"
                                                ]
                                            }
                                        }
                                    },
                                    "required": [
                                        "@type",
                                        "measurement"
                                    ]
                                }
                            },
                            "period": {
                                "type": "string"
                            },
                            "targetObject": {
                                "type": "object",
                                "properties": {
                                    "@type": {
                                        "type": "string"
                                    },
                                    "lowLeftCornerCoordinateAxis1": {
                                        "type": "number"
                                    },
                                    "lowLeftCornerCoordinateAxis2": {
                                        "type": "number"
                                    },
                                    "upperRightCornerCoordinateAxis1": {
                                        "type": "number"
                                    },
                                    "upperRightCornerCoordinateAxis2": {
                                        "type": "number"
                                    },
                                    "coordinateReferenceSystem": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "@type",
                                    "coordinateReferenceSystem",
                                    "lowLeftCornerCoordinateAxis1",
                                    "lowLeftCornerCoordinateAxis2",
                                    "upperRightCornerCoordinateAxis1",
                                    "upperRightCornerCoordinateAxis2"
                                ]
                            }
                        },
                        "required": [
                            "period",
                            "targetObject",
                            "vehicle"
                        ]
                    },
                    "default": [
                        {
                            "vehicle": [
                                {
                                    "@type": "Bus",
                                    "measurement": [
                                        {
                                            "@type": "CountTransportationRoute",
                                            "value": 54
                                        },
                                        {
                                            "@type": "CountTransportationTrip",
                                            "value": 0
                                        },
                                        {
                                            "@type": "CountMeter",
                                            "value": 0
                                        },
                                        {
                                            "@type": "MeasureCO2Level",
                                            "value": 0
                                        },
                                        {
                                            "@type": "MeasureEnergyKwh",
                                            "value": 0
                                        }
                                    ]
                                },
                                {
                                    "@type": "Tram",
                                    "measurement": [
                                        {
                                            "@type": "CountTransportationRoute",
                                            "value": 10
                                        },
                                        {
                                            "@type": "CountTransportationTrip",
                                            "value": 0
                                        },
                                        {
                                            "@type": "CountMeter",
                                            "value": 0
                                        },
                                        {
                                            "@type": "MeasureCO2Level",
                                            "value": 0
                                        },
                                        {
                                            "@type": "MeasureEnergyKwh",
                                            "value": 0
                                        }
                                    ]
                                }
                            ],
                            "period": "2020-11-08T14:14:35.000Z/2020-11-08T19:14:35.000Z",
                            "targetObject": {
                                "@type": "BoundingBox",
                                "lowLeftCornerCoordinateAxis1": 60.170059,
                                "lowLeftCornerCoordinateAxis2": 24.907368,
                                "upperRightCornerCoordinateAxis1": 60.17726,
                                "upperRightCornerCoordinateAxis2": 24.935804,
                                "coordinateReferenceSystem": "WGS84"
                            }
                        }
                    ]
                }
            },
            "required": [
                "traffic"
            ]
        },
        "signature": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "default": "RsaSignature2018"
                },
                "created": {
                    "type": "string",
                    "default": "2020-12-14T14:31:01+02:00"
                },
                "creator": {
                    "type": "string",
                    "default": "http://localhost:8080/translator/v1/public.key"
                },
                "signatureValue": {
                    "type": "string",
                    "default": "sNE0efSluu7zZRZJ02kcGJpoJi7JxxiTAp+vyxyb6ID7TDjc61itzIdaukGFqP20eQ67GNbJdOdj0bFbc+dZns9dsH5wdhhw5ryaHy8nbqYAnZrHq+71v1lD6tGAuQQ+/4yczEH75lgMPwCB96IFTv4Hkmo756UeFgKRWh2Tconf8LNWoE86EIlLYYtI5JR0EZ0JLbGT5JK/TV9imXO8fWNZ34FCdpAiwUlrUlRtw6OoboQ7S7FSDbUqi6kC6k61BTthed9g6dWMmkuM8sgS16ejTvLvoE6IS4wrYE2w0yRw72f5DGs5gyYppXXrARkOucsk4ScNTIiMc7VCKBhkAHA3h5kXQIQT02RVXTsEW9myITD1r7Kwdc42qYNEOCWIonBRj2r353wwjfzTsnTmZXpiPegs8ciW/8ujl7efjf6br5OpPVf6eCXqpmXpztuxo3JaAIiCivZaIZeIqWIyZTwRFSsnG23zHH5NErL2O/ryFkCyMEHEskofTHtLuXXqwUOx33s1ejSUynPnDi0oDbxU1Mbm+B6VAiSJYyPQ7hgQnNoyxwZmTh0NfCrs2WKo/3BJhfx43/tkBAl5hJHaYGzkm0umdtO6b4nDmVJbpfagBfKkfuwp93kM+8DEhztSKS71NVVTjjWiLqnd0UgC2Sf/qj27MtBRI1f4A12WF3Q="
                }
            },
            "required": [
                "created",
                "creator",
                "signatureValue",
                "type"
            ]
        }
    },
    "required": [
        "@context",
        "data",
        "signature"
    ]
}</msg>
<status status="PASS" starttime="20201214 14:31:01.188" endtime="20201214 14:31:01.202"></status>
</kw>
<status status="PASS" starttime="20201214 14:30:43.191" endtime="20201214 14:31:01.203"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>200</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.203" endtime="20201214 14:31:01.203"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body @context</arg>
<arg>https://standards.oftrust.net/v2/Context/DataProductOutput/Process/Measure/Traffic/</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.204" endtime="20201214 14:31:01.204"></status>
</kw>
<kw name="Object" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON object.*</doc>
<arguments>
<arg>response body data</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.205" endtime="20201214 14:31:01.206"></status>
</kw>
<kw name="Array" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON array.*</doc>
<arguments>
<arg>response body data traffic</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.206" endtime="20201214 14:31:01.207"></status>
</kw>
<kw name="Array" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON array.*</doc>
<arguments>
<arg>response body data traffic 0 vehicle</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.207" endtime="20201214 14:31:01.208"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body data traffic 0 targetObject @type</arg>
<arg>BoundingBox</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.209" endtime="20201214 14:31:01.209"></status>
</kw>
<tags>
<tag>bug-0001</tag>
</tags>
<status status="PASS" starttime="20201214 14:30:43.188" endtime="20201214 14:31:01.209" critical="yes"></status>
</test>
<test id="s1-t2" name="fetch, 422, Missing data for parameters required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20201214 14:31:01.211" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:01.211" endtime="20201214 14:31:01.211"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20201214 14:31:01.212" level="INFO">${now} = 2020-12-14T12:31:01+00:00</msg>
<status status="PASS" starttime="20201214 14:31:01.212" endtime="20201214 14:31:01.212"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.212" endtime="20201214 14:31:01.212"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.212" endtime="20201214 14:31:01.212"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20201214 14:31:01.213" level="INFO">${json_string} = {"productCode": "vtt-ids", "parameters": {"targetObject": {"lowLeftCornerCoordinateAxis1": "60.170059", "lowLeftCornerCoordinateAxis2": "24.907368", "upperRightCornerCoordinateAxis1": "60.17726", "upp...</msg>
<status status="PASS" starttime="20201214 14:31:01.212" endtime="20201214 14:31:01.213"></status>
</kw>
<msg timestamp="20201214 14:31:01.213" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:01.211" endtime="20201214 14:31:01.213"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body}</arg>
<arg>parameters</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.213" endtime="20201214 14:31:01.213"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20201214 14:31:01.214" level="INFO">${signature} = ZTs9DybIjco/X4yhAqVPLUifsY82a8zf68lOssAzj9A=</msg>
<status status="PASS" starttime="20201214 14:31:01.214" endtime="20201214 14:31:01.214"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.214" endtime="20201214 14:31:01.214"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:01.215" endtime="20201214 14:31:03.223"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20201214 14:31:03.223" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "parameters": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "parameters"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20201214 14:31:03.223" endtime="20201214 14:31:03.225"></status>
</kw>
<status status="PASS" starttime="20201214 14:31:01.213" endtime="20201214 14:31:03.225"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.226" endtime="20201214 14:31:03.227"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.227" endtime="20201214 14:31:03.227"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.228" endtime="20201214 14:31:03.228"></status>
</kw>
<tags>
<tag>bug-0002</tag>
</tags>
<status status="PASS" starttime="20201214 14:31:01.211" endtime="20201214 14:31:03.228" critical="yes"></status>
</test>
<test id="s1-t3" name="fetch, 422, Missing data for period required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20201214 14:31:03.230" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:03.230" endtime="20201214 14:31:03.230"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20201214 14:31:03.231" level="INFO">${now} = 2020-12-14T12:31:03+00:00</msg>
<status status="PASS" starttime="20201214 14:31:03.230" endtime="20201214 14:31:03.231"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.231" endtime="20201214 14:31:03.231"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.231" endtime="20201214 14:31:03.231"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20201214 14:31:03.232" level="INFO">${json_string} = {"productCode": "vtt-ids", "parameters": {"targetObject": {"lowLeftCornerCoordinateAxis1": "60.170059", "lowLeftCornerCoordinateAxis2": "24.907368", "upperRightCornerCoordinateAxis1": "60.17726", "upp...</msg>
<status status="PASS" starttime="20201214 14:31:03.231" endtime="20201214 14:31:03.232"></status>
</kw>
<msg timestamp="20201214 14:31:03.232" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:03.230" endtime="20201214 14:31:03.232"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>period</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.232" endtime="20201214 14:31:03.233"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20201214 14:31:03.233" level="INFO">${signature} = 8pk6kIMptLdkQqfX1V62lYj5zASflgiyqUIuk9yoz00=</msg>
<status status="PASS" starttime="20201214 14:31:03.233" endtime="20201214 14:31:03.233"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.234" endtime="20201214 14:31:03.234"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:03.234" endtime="20201214 14:31:05.240"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20201214 14:31:05.241" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "parameters.period": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "parameters.period"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20201214 14:31:05.241" endtime="20201214 14:31:05.242"></status>
</kw>
<status status="PASS" starttime="20201214 14:31:03.233" endtime="20201214 14:31:05.242"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.243" endtime="20201214 14:31:05.244"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.245" endtime="20201214 14:31:05.245"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.period 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.245" endtime="20201214 14:31:05.246"></status>
</kw>
<tags>
<tag>bug-0003</tag>
</tags>
<status status="PASS" starttime="20201214 14:31:03.229" endtime="20201214 14:31:05.246" critical="yes"></status>
</test>
<test id="s1-t4" name="fetch, 422, Missing data for targetObject required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20201214 14:31:05.248" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:05.248" endtime="20201214 14:31:05.248"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20201214 14:31:05.248" level="INFO">${now} = 2020-12-14T12:31:05+00:00</msg>
<status status="PASS" starttime="20201214 14:31:05.248" endtime="20201214 14:31:05.248"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.249" endtime="20201214 14:31:05.249"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.249" endtime="20201214 14:31:05.249"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20201214 14:31:05.249" level="INFO">${json_string} = {"productCode": "vtt-ids", "parameters": {"targetObject": {"lowLeftCornerCoordinateAxis1": "60.170059", "lowLeftCornerCoordinateAxis2": "24.907368", "upperRightCornerCoordinateAxis1": "60.17726", "upp...</msg>
<status status="PASS" starttime="20201214 14:31:05.249" endtime="20201214 14:31:05.249"></status>
</kw>
<msg timestamp="20201214 14:31:05.249" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:05.248" endtime="20201214 14:31:05.250"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>targetObject</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.250" endtime="20201214 14:31:05.250"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20201214 14:31:05.251" level="INFO">${signature} = iTDUTiEhuKlPjfxjGIBTaFIGyAPrJNwHHNIdo0utQ2s=</msg>
<status status="PASS" starttime="20201214 14:31:05.251" endtime="20201214 14:31:05.251"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.251" endtime="20201214 14:31:05.251"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:05.251" endtime="20201214 14:31:07.258"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20201214 14:31:07.259" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "parameters.targetObject.lowLeftCornerCoordinateAxis1": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        },
                        "parameters.targetObject.lowLeftCornerCoordinateAxis2": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        },
                        "parameters.targetObject.upperRightCornerCoordinateAxis1": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        },
                        "parameters.targetObject.upperRightCornerCoordinateAxis2": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "parameters.targetObject.lowLeftCornerCoordinateAxis1",
                        "parameters.targetObject.lowLeftCornerCoordinateAxis2",
                        "parameters.targetObject.upperRightCornerCoordinateAxis1",
                        "parameters.targetObject.upperRightCornerCoordinateAxis2"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20201214 14:31:07.258" endtime="20201214 14:31:07.261"></status>
</kw>
<status status="PASS" starttime="20201214 14:31:05.250" endtime="20201214 14:31:07.261"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.262" endtime="20201214 14:31:07.262"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.263" endtime="20201214 14:31:07.263"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.lowLeftCornerCoordinateAxis1 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.264" endtime="20201214 14:31:07.272"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.lowLeftCornerCoordinateAxis2 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.272" endtime="20201214 14:31:07.273"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.upperRightCornerCoordinateAxis1 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.273" endtime="20201214 14:31:07.274"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.upperRightCornerCoordinateAxis2 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.274" endtime="20201214 14:31:07.274"></status>
</kw>
<tags>
<tag>bug-0004</tag>
</tags>
<status status="PASS" starttime="20201214 14:31:05.247" endtime="20201214 14:31:07.275" critical="yes"></status>
</test>
<test id="s1-t5" name="fetch, 422, Empty targetObject">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20201214 14:31:07.277" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:07.277" endtime="20201214 14:31:07.277"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20201214 14:31:07.278" level="INFO">${now} = 2020-12-14T12:31:07+00:00</msg>
<status status="PASS" starttime="20201214 14:31:07.277" endtime="20201214 14:31:07.278"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.278" endtime="20201214 14:31:07.278"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.278" endtime="20201214 14:31:07.278"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20201214 14:31:07.278" level="INFO">${json_string} = {"productCode": "vtt-ids", "parameters": {"targetObject": {"lowLeftCornerCoordinateAxis1": "60.170059", "lowLeftCornerCoordinateAxis2": "24.907368", "upperRightCornerCoordinateAxis1": "60.17726", "upp...</msg>
<status status="PASS" starttime="20201214 14:31:07.278" endtime="20201214 14:31:07.278"></status>
</kw>
<msg timestamp="20201214 14:31:07.279" level="INFO">${body} = {'productCode': 'vtt-ids', 'parameters': {'targetObject': {'lowLeftCornerCoordinateAxis1': '60.170059', 'lowLeftCornerCoordinateAxis2': '24.907368', 'upperRightCornerCoordinateAxis1': '60.17726', 'upp...</msg>
<status status="PASS" starttime="20201214 14:31:07.277" endtime="20201214 14:31:07.279"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>targetObject=@{EMPTY}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.279" endtime="20201214 14:31:07.279"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20201214 14:31:07.280" level="INFO">${signature} = pBOt9OFxUFdUU7Dw04vbFikv6jWYE0K5sJ3lUjBeG7I=</msg>
<status status="PASS" starttime="20201214 14:31:07.280" endtime="20201214 14:31:07.280"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.280" endtime="20201214 14:31:07.280"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>${CONNECTOR_PATH}</arg>
<arg>${body}</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:07.280" endtime="20201214 14:31:09.286"></status>
</kw>
<kw name="Output Schema" library="REST">
<tags>
<tag>I/O</tag>
</tags>
<doc>*Outputs JSON Schema to terminal or a file.*</doc>
<arguments>
<arg>response body</arg>
</arguments>
<msg timestamp="20201214 14:31:09.286" level="INFO">
{
    "type": "object",
    "properties": {
        "error": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "default": 422
                },
                "message": {
                    "type": "object",
                    "properties": {
                        "parameters.targetObject.lowLeftCornerCoordinateAxis1": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        },
                        "parameters.targetObject.lowLeftCornerCoordinateAxis2": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        },
                        "parameters.targetObject.upperRightCornerCoordinateAxis1": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        },
                        "parameters.targetObject.upperRightCornerCoordinateAxis2": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "default": [
                                "Missing data for required field."
                            ]
                        }
                    },
                    "required": [
                        "parameters.targetObject.lowLeftCornerCoordinateAxis1",
                        "parameters.targetObject.lowLeftCornerCoordinateAxis2",
                        "parameters.targetObject.upperRightCornerCoordinateAxis1",
                        "parameters.targetObject.upperRightCornerCoordinateAxis2"
                    ]
                }
            },
            "required": [
                "message",
                "status"
            ]
        }
    },
    "required": [
        "error"
    ]
}</msg>
<status status="PASS" starttime="20201214 14:31:09.286" endtime="20201214 14:31:09.289"></status>
</kw>
<status status="PASS" starttime="20201214 14:31:07.279" endtime="20201214 14:31:09.289"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:09.290" endtime="20201214 14:31:09.290"></status>
</kw>
<kw name="Integer" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON integer.*</doc>
<arguments>
<arg>response body error status</arg>
<arg>422</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:09.291" endtime="20201214 14:31:09.291"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.lowLeftCornerCoordinateAxis1 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:09.291" endtime="20201214 14:31:09.292"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.lowLeftCornerCoordinateAxis2 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:09.292" endtime="20201214 14:31:09.293"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.upperRightCornerCoordinateAxis1 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:09.293" endtime="20201214 14:31:09.293"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>response body error message parameters.targetObject.upperRightCornerCoordinateAxis2 0</arg>
<arg>Missing data for required field.</arg>
</arguments>
<status status="PASS" starttime="20201214 14:31:09.294" endtime="20201214 14:31:09.294"></status>
</kw>
<tags>
<tag>bug-0005</tag>
</tags>
<status status="PASS" starttime="20201214 14:31:07.276" endtime="20201214 14:31:09.295" critical="yes"></status>
</test>
<doc>VTT Transport Data Platform Tests</doc>
<status status="PASS" starttime="20201214 14:30:42.943" endtime="20201214 14:31:09.296"></status>
</suite>
<statistics>
<total>
<stat pass="5" fail="0">Critical Tests</stat>
<stat pass="5" fail="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0">bug-0001</stat>
<stat pass="1" fail="0">bug-0002</stat>
<stat pass="1" fail="0">bug-0003</stat>
<stat pass="1" fail="0">bug-0004</stat>
<stat pass="1" fail="0">bug-0005</stat>
</tag>
<suite>
<stat pass="5" fail="0" id="s1" name="Connector Tests">Connector Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
